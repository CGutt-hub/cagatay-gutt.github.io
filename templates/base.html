<!DOCTYPE html>
<html lang="{{ lang | default(value='en') }}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}{{ config.title }}{% endblock title %}</title>
    <link rel="stylesheet" href="{{ get_url(path='style.css') }}">
    <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="{{ get_url(path='blog/atom.xml') }}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <div class="header-content">
            <div class="header-left">
                <h1><a href="{{ get_url(path='/') }}">Ã‡aÄŸatay Ã–zcan Jagiello Gutt</a></h1>
                <nav>
                    {% set current_lang = lang | default(value='en') %}
                    {% if current_lang == "de" %}
                    <a href="{{ get_url(path='/', lang='de') }}">startseite</a>
                    <a href="{{ get_url(path='cv/', lang='de') }}">lebenslauf</a>
                    <a href="{{ get_url(path='publications/', lang='de') }}">publikationen</a>
                    <a href="{{ get_url(path='projects/', lang='de') }}">projekte</a>
                    <div class="nav-dropdown">
                        <a href="{{ get_url(path='tools/', lang='de') }}" class="dropdown-trigger">werkzeuge â–¾</a>
                        <div class="dropdown-menu">
                            <a href="https://cgutt-hub.github.io/paper-finder/web/">ğŸ“„ Paper Finder</a>
                            <a href="https://github.com/CGutt-hub/searxng5ha99y">ğŸ” SearXNG</a>
                            <a href="{{ get_url(path='tools/', lang='de') }}" class="dropdown-overview">Alle Werkzeuge â†’</a>
                        </div>
                    </div>
                    <a href="{{ get_url(path='blog/', lang='de') }}">blog</a>
                    <a href="{{ get_url(path='contact/', lang='de') }}">kontakt</a>
                    {% else %}
                    <a href="{{ get_url(path='/') }}">home</a>
                    <a href="{{ get_url(path='cv/') }}">cv</a>
                    <a href="{{ get_url(path='publications/') }}">publications</a>
                    <a href="{{ get_url(path='projects/') }}">projects</a>
                    <div class="nav-dropdown">
                        <a href="{{ get_url(path='tools/') }}" class="dropdown-trigger">tools â–¾</a>
                        <div class="dropdown-menu">
                            <a href="https://cgutt-hub.github.io/paper-finder/web/">ğŸ“„ Paper Finder</a>
                            <a href="https://github.com/CGutt-hub/searxng5ha99y">ğŸ” SearXNG</a>
                            <a href="{{ get_url(path='tools/') }}" class="dropdown-overview">All Tools â†’</a>
                        </div>
                    </div>
                    <a href="{{ get_url(path='blog/') }}">blog</a>
                    <a href="{{ get_url(path='contact/') }}">contact</a>
                    {% endif %}
                </nav>
            </div>
            <div class="header-right">
                <div class="toggle-group">
                    <a href="{{ get_url(path='/') }}" class="lang-link {% if current_lang == 'en' %}active{% endif %}">EN</a>
                    <span class="toggle-separator">|</span>
                    <a href="{{ get_url(path='/', lang='de') }}" class="lang-link {% if current_lang == 'de' %}active{% endif %}">DE</a>
                </div>
                <button id="theme-toggle" class="theme-switch" aria-label="Toggle theme">
                    <span class="theme-icon">â˜€ï¸</span>
                </button>
            </div>
        </div>
    </header>
    
    <main>
        {% block content %}{% endblock content %}
    </main>
    
    <footer>
        <div class="footer-content">
            <div class="footer-main">
                <p class="site-info">{% set current_lang = lang | default(value='en') %}{% if current_lang == 'de' %}Diese Seite synchronisiert automatisch mit GitHub (Projekte) und ORCID (Publikationen).{% else %}This site syncs automatically with GitHub (projects) and ORCID (publications).{% endif %}</p>
                <div class="contact-links">
                    <a href="https://www.linkedin.com/in/cagatay-gutt" target="_blank" rel="noopener">LinkedIn</a>
                    <span class="footer-sep">Â·</span>
                    <a href="https://orcid.org/0000-0002-1774-532X" target="_blank" rel="noopener">ORCID</a>
                    <span class="footer-sep">Â·</span>
                    <a href="https://github.com/CGutt-hub" target="_blank" rel="noopener">GitHub</a>
                    <span class="footer-sep">Â·</span>
                    <a href="{{ get_url(path='blog/atom.xml') }}" target="_blank" rel="noopener">RSS</a>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; {{ now() | date(format="%Y") }} Ã‡aÄŸatay Ã–zcan Jagiello Gutt</p>
                <p class="footer-tech">{% if current_lang == 'de' %}Erstellt mit{% else %}Built with{% endif %} <a href="https://www.getzola.org/" target="_blank" rel="noopener">Zola</a> Â· {% if current_lang == 'de' %}Letzter Build{% else %}Last build{% endif %}: {{ now() | date(format="%Y-%m-%d") }}</p>
            </div>
        </div>
    </footer>
    
    <script>
        // Theme switching functionality
        const themeToggle = document.getElementById('theme-toggle');
        const themeIcon = document.querySelector('.theme-icon');
        const html = document.documentElement;
        
        // Check for saved theme preference or default to 'dark'
        const savedTheme = localStorage.getItem('theme') || 'dark';
        html.setAttribute('data-theme', savedTheme);
        updateThemeIcon(savedTheme);
        
        themeToggle.addEventListener('click', () => {
            const currentTheme = html.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            
            html.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            updateThemeIcon(newTheme);
        });
        
        function updateThemeIcon(theme) {
            themeIcon.textContent = theme === 'dark' ? 'â˜€ï¸' : 'ğŸŒ™';
        }

    </script>
</body>
</html>
